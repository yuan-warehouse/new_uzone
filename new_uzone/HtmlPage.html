<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
        body, html, #allmap {
            width: 100%;
            height: 100%;
            overflow: hidden;
            margin: 0;
            font-family: "微软雅黑";
        }
    </style>
    <title>异步加载地图</title>
</head>
<body>
    <div id="allmap"style="width:1000px auto;height:300px">
        <script type="text/javascript">
            //百度地图API功能
            function loadJScript() {
                var script = document.createElement("script");
                script.type = "text/javascript";
                script.src = "http://api.map.baidu.com/api?v=2.0&ak=q6El2RP9tZivQ143mgAe9kFR2MhH2L8r&callback=init";
                document.body.appendChild(script);
            }
            function init() {
                var map = new BMap.Map("allmap");            // 创建Map实例
                var lon = 120.017968;      //经度
                var lat = 31.813327;       //纬度
                var point = new BMap.Point(lon, lat); // 创建点坐标
                var navigationControl = new BMap.NavigationControl({
                    // 靠左上角位置
                    anchor: BMAP_ANCHOR_TOP_LEFT,
                    // LARGE类型
                    type: BMAP_NAVIGATION_CONTROL_LARGE,
                    // 启用显示定位
                    enableGeolocation: true
                });
                map.addControl(navigationControl);  // 添加定位控件
                map.centerAndZoom(point, 15);
                map.enableScrollWheelZoom();                 //启用滚轮放大缩小
            }
            window.onload = loadJScript;  //异步加载地图
        </script>
    </div>
</body>
</html>

